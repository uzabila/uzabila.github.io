<!doctype html>
<html lang="ru">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="apple-touch-icon" sizes="180x180" href="../../../assets/icons/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="../../../assets/icons/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="../../../assets/icons/favicon-16x16.png">
	<link rel="manifest" href="../../../assets/icons/site.webmanifest">
	<link rel="mask-icon" href="../../../assets/icons/safari-pinned-tab.svg" color="#787878">
	<meta name="msapplication-TileColor" content="#ffffff">
	<meta name="theme-color" content="#ffffff">

  	<!-- Bootstrap CSS -->
  	<link rel="stylesheet" href="../../../assets/css/bootstrap.min.css">
	<link rel="stylesheet" href="../../../assets/css/prism.css">
	<link rel="stylesheet" href="../../../assets/css/style.css">

    <title>Быстрый способ показать все ошибки PHP &#8212; Uzabila</title>
  </head>
<body class="position-relative">
 <!-- Yandex.Metrika counter --> <script type="text/javascript">     (function(m,e,t,r,i,k,a){         m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};         m[i].l=1*new Date();         for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}         k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)     })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=103624056', 'ym');      ym(103624056, 'init', {ssr:true, clickmap:true, accurateTrackBounce:true, trackLinks:true}); </script> <noscript><div><img src="https://mc.yandex.ru/watch/103624056" style="position:absolute; left:-9999px;" alt="" /></div></noscript> <!-- /Yandex.Metrika counter -->   

<!-- navbar section -->
<section class="navbar-section">
	<nav class="navbar navbar-expand-lg navbar-light bg-white">
		<div class="container">
			<a class="navbar-brand d-flex gap-3 align-items-center" href="../../">
				<img src="../../../assets/images/sergei-150.png" alt="" width="80" height="80" class="d-inline-block align-middle">
				<div class="logo-block"><span class="fw-bold">Uzabila</span><br><span class="small-font">Сергей Ермилов</span></div>
			</a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav ms-0 ms-md-5 mb-2 mb-lg-0">

					<li class="nav-item">
						<a class="nav-link" title="GitHub" target="_blank" href="https://github.com/uzabila"><img src="../../../assets/images/gh.svg" alt="GitHub" width="32" height="32" class="mx-3" style="margin-top:-5px"></a>
					</li>

					<li class="nav-item">
						<a class="nav-link" href="../../about/">Обо мне</a>
					</li>

					<li class="nav-item">
						<a class="nav-link" href="../../services/">Услуги</a>
					</li>

					<li class="nav-item">
						<a class="nav-link" href="../../portfolio/">Портфолио</a>
					</li>

					<li class="nav-item">
						<a class="nav-link" href="../../docs/">Доки</a>
					</li>

					<li class="nav-item">
						<a class="nav-link" href="../../terms/">Термины</a>
					</li>
					
					<li class="nav-item">
						<a class="nav-link" href="../../book/">Книга</a>
					</li>
		
					<li class="nav-item">
						<a class="nav-link" href="../../contacts/">Контакты</a>
					</li>
				</ul>
				<div class="ms-auto">
                    <a href="../../../" class="link-dark link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">English</a>
                </div>

			</div>
		</div>
	</nav>
</section>
<!-- ---------- --> 
<!-- END HEADER -->
<!-- ---------- -->

<div class="container">
	<div class="row mb-3 mb-md-4 mb-lg-5">
		<div class="col-12 single-content-column">
			<p><a href="../" class="link-secondary">Доки</a></p>
			<h1 class="fw-600">Быстрый способ показать все ошибки PHP</h1>

<p>При выполнении PHP-приложения может возникать множество ошибок и предупреждений разного уровня. Просмотр этих ошибок очень важен для разработчиков при устранении неполадок в приложении. Однако при попытке отобразить ошибки PHP-приложений часто возникают трудности, так как они часто нигде не видны.</p>

<h2>Быстрый способ показать все ошибки PHP</h2>

<p>Добавление следующих строк в ваш PHP-код — самый быстрый способ показать все ошибки и предупреждения PHP.</p>

<pre><code class="language-php">ini_set('display_errors', 1);
ini_set('display_startup_errors', 1);
error_reporting(E_ALL);</code></pre>

<p>Вышеперечисленные функции и директивы работают следующим образом:</p>

<p><strong>ini_set()</strong></p>

<p>Функция <code>ini_set</code> пытается переопределить конфигурацию, содержащуюся в файле PHP .ini.</p>

<p><strong>display_errors</strong></p>

<p><code>display_errors</code> — это директива, которая определяет, будут ли ошибки показаны пользователю или останутся скрытыми. Обычно ее следует отключать после разработки.</p>

<p><strong>display_startup_errors</strong></p>

<p>Директива <code>display_startup_errors</code> также используется для поиска ошибок, возникающих при запуске PHP. Это отдельная директива, потому что директива <code>display_errors</code> не обрабатывает такие ошибки.</p>

<p>К сожалению, директивы <code>display_errors</code> и <code>display_startup_errors</code> не показывают ошибки парсинга, такие как пропущенные точки с запятой или фигурные скобки. Для этого необходимо изменить конфигурацию <strong><em>PHP ini</em></strong>.</p>

<p><strong>error_reporting()</strong></p>

<p><code>error_reporting</code> — это встроенная функция PHP, которая используется для отображения ошибок. Эта функция может быть использована для сообщения обо всех типах ошибок в PHP-скрипте. Для этого в качестве аргумента в функции используется именованная константа <code>E_ALL</code>.</p>

<h2>Настройка PHP.ini для отображения всех ошибок и предупреждений</h2>

<p>Если добавление вышеуказанных функций и директив не показывает все ошибки, в конфигурации PHP ini есть дополнительные директивы, которые можно изменить:</p>

<pre><code>display_errors = on</code></pre>

<p>Директива <code>display_errors</code> может быть установлена в значение <code>on</code> в файле <strong><em>PHP.ini</em></strong>. При этом будут отображаться все ошибки, включая синтаксические и ошибки разбора, которые не отображаются только при вызове функции <code>ini_set</code> в коде PHP.</p>

<p>Обратите внимание, что директива <code>display_errors</code> должна быть установлена в значение <code>off</code>, если приложение находится в процессе создания.</p>

<p>Файл <strong><em>PHP.ini</em></strong> можно найти в выводе функции <code>phpinfo()</code>:</p>

<pre><code class="language-php"># php 7.x
&lt;?php
    phpinfo();
?&gt;</code></pre>

<p>Загруженный файл конфигурации (<strong>Loaded Configuration File</strong>) показывает расположение файла <strong><em>PHP.ini</em></strong>.</p>

<h2>Функция PHP error_reporting()</h2>

<p>Функция сообщения об ошибках — это встроенная в PHP функция, которая позволяет разработчикам указывать, какие и сколько ошибок будут отображаться в приложении. Эта функция устанавливает директиву <code>error_reporting</code> в конфигурации <strong><em>PHP ini</em></strong> во время выполнения.</p>

<pre><code class="language-php">error_reporting(0);</code></pre>

<p>Значение <code>0</code> следует передать функции <code>error_reporting</code>, чтобы удалить все ошибки, предупреждения, сообщения парсинга и уведомления.</p>

<pre><code class="language-php">error_reporting(E_NOTICE);</code></pre>

<p>В PHP разрешено использовать переменные, даже если они не объявлены. Это не лучшая практика, так как необъявленные переменные вызывают проблемы при использовании в циклах и условиях. Необъявленные переменные отображаются в веб-приложении, когда в функции <code>error_reporting</code> передается <code>E_NOTICE</code>.</p>

<pre><code class="language-php">error_reporting(E_ALL &amp; ~E_NOTICE);</code></pre>

<p>Функция <code>error_reporting</code> позволяет разработчикам фильтровать, какие ошибки PHP могут быть показаны. Символ <code>~</code> означает «не» (<code>not</code>) или «нет» (<code>no</code>), поэтому параметр <code>~E_NOTICE</code> означает не показывать уведомления. Символ <code>&amp;</code> означает «верно для всех».</p>

<pre><code class="language-php">error_reporting(E_ALL);
error_reporting(-1);
ini_set('error_reporting', E_ALL);</code></pre>

<p>Эти 3 строки кода делают одно и то же — они показывают все ошибки PHP. Наиболее часто используется <code>error_reporting(E_ALL)</code>, так как он более читабелен.</p>

<h2>Показ ошибок PHP через конфигурацию .htaccess</h2>

<p>Файлы каталогов обычно доступны разработчикам. Файл <strong><em>.htaccess</em></strong>, расположенный в корневой или публичной директории проекта, также можно использовать для включения или отключения директивы для показа ошибок PHP.</p>

<pre><code class="language-php">php_flag display_startup_errors on
php_flag display_errors on</code></pre>

<p>В файле <strong><em>.htaccess</em></strong> есть директивы <code>display_startup_errors</code> и <code>display_errors</code>, аналогичные тем, что будут добавлены в PHP-код для отображения ошибок. Разработка и продакшен могут иметь разные файлы .htaccess, показывая или отключая сообщения об ошибках таким образом, при этом продакшен будет подавлять показ ошибок.</p>

<p>Директива <code>display_errors</code> в <strong><em>.htaccess</em></strong> или в файле <strong><em>PHP.ini</em></strong> может потребовать настройки в зависимости от того, какие файлы доступны и как выполняется развертывание и конфигурация сервера. Многие хостинг-провайдеры не разрешают вносить изменения в файл <strong><em>PHP.ini</em></strong> для включения <code>display_errors</code>.</p>

		</div>
	</div>
</div>
<div class="container">
	<div class="row">
		<div class="col-12 col-md-7">
			<div class="mb-3 mb-mb-4 d-flex gap-3">
				<div>
					<img alt="Сергей Ермилов" src="../../../assets/images/sergei-450.png" height="68" width="68">
				</span>
				</div>
				<div>
					<a href="../../about/" class="link-dark link-offset-2 link-underline-opacity-25 link-underline-opacity-100-hover">Сергей Ермилов</a><br>
					<span>Дизайнер, верстальщик, фронтенд-разработчик, PHP и WordPress энтузиаст, главный редактор сайта</span>
				</div>
			</div> 
		</div>
		<div class="col-12 col-md-5">
			<span class="text-muted">Опубликовано 20 ноября 2024 в 18:48</span><br>Теги: PHP
		</div>
	</div>
</div>

<!-- ------------ -->
<!-- START FOOTER -->
<!-- ------------ -->
<footer class="py-5">
	<div class="container">
		<div class="row">
			<div class="col-12 col-md-4 my-auto">
				<span class="fw-500 text-muted">Uzabila</span>
			</div>
			<div class="col-12 col-md-4 text-center my-auto">
				<img src="../../../assets/images/sergei-150.png" alt="Sergei Ermilov" width="80" height="80">
			</div>
			<div class="col-12 col-md-4 my-auto text-end">
				<span class="fw-500 text-muted">&copy; 2008-<script>document.write(new Date().getFullYear())</script></span>
			</div>
		</div>
	</div>
</footer>

	<script src="../../../assets/js/bootstrap.bundle.min.js"></script>
	<script src="../../../assets/js/app.js"></script>
	<script src="../../../assets/js/prism.js"></script>	

  </body>
</html>